/**
 * Â© 2025 Melvin Jones Repol & its contributors . All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{r as e,R as n}from"./CbKKHx2O.js";import{P as r}from"./z-cSZRUs.js";import{f as t}from"./D1Sfz1v5.js";import{_ as o}from"./CUNh_qGu.js";function i(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){u(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function u(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,o,i=[],c=!0,a=!1;try{for(r=r.call(e);!(c=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);c=!0);}catch(u){a=!0,o=u}finally{try{c||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,n)||s(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){if(e){if("string"==typeof e)return f(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var p="function"==typeof o?o:o.default,d=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),n=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:"file-invalid-type",message:"File type must be ".concat(n)}},g=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},y=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},v={code:"too-many-files",message:"Too many files"};function b(e,n){var r="application/x-moz-file"===e.type||p(e,n);return[r,r?null:d(n)]}function m(e,n,r){if(D(e.size))if(D(n)&&D(r)){if(e.size>r)return[!1,g(r)];if(e.size<n)return[!1,y(n)]}else{if(D(n)&&e.size<n)return[!1,y(n)];if(D(r)&&e.size>r)return[!1,g(r)]}return[!0,null]}function D(e){return null!=e}function h(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function O(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function w(e){e.preventDefault()}function j(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];return n.some((function(n){return!h(e)&&n&&n.apply(void 0,[e].concat(t)),h(e)}))}}function A(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function F(e){return/^.*\.[\w]+$/.test(e)}var E=["children"],S=["open"],P=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],k=["refKey","onChange","onClick"];function C(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var t,o,i=[],c=!0,a=!1;try{for(r=r.call(e);!(c=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);c=!0);}catch(u){a=!0,o=u}finally{try{c||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,n)||R(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n){if(e){if("string"==typeof e)return I(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,n):void 0}}function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function z(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function T(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?z(Object(r),!0).forEach((function(n){M(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function M(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function L(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var B=e.forwardRef((function(r,t){var o=r.children,i=U(L(r,E)),c=i.open,a=L(i,S);return e.useImperativeHandle(t,(function(){return{open:c}}),[c]),n.createElement(e.Fragment,null,o(T(T({},a),{},{open:c})))}));B.displayName="Dropzone";var K={disabled:!1,getFilesFromEvent:t,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};B.defaultProps=K,B.propTypes={children:r.func,accept:r.objectOf(r.arrayOf(r.string)),multiple:r.bool,preventDropOnDocument:r.bool,noClick:r.bool,noKeyboard:r.bool,noDrag:r.bool,noDragEventsBubbling:r.bool,minSize:r.number,maxSize:r.number,maxFiles:r.number,disabled:r.bool,getFilesFromEvent:r.func,onFileDialogCancel:r.func,onFileDialogOpen:r.func,useFsAccessApi:r.bool,autoFocus:r.bool,onDragEnter:r.func,onDragLeave:r.func,onDragOver:r.func,onDrop:r.func,onDropAccepted:r.func,onDropRejected:r.func,onError:r.func,validator:r.func};var _={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function U(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=T(T({},K),n),t=r.accept,o=r.disabled,c=r.getFilesFromEvent,s=r.maxSize,f=r.minSize,p=r.multiple,d=r.maxFiles,g=r.onDragEnter,y=r.onDragLeave,E=r.onDragOver,S=r.onDrop,R=r.onDropAccepted,I=r.onDropRejected,z=r.onFileDialogCancel,B=r.onFileDialogOpen,U=r.useFsAccessApi,N=r.autoFocus,W=r.preventDropOnDocument,q=r.noClick,Y=r.noKeyboard,G=r.noDrag,J=r.noDragEventsBubbling,Q=r.onError,V=r.validator,X=e.useMemo((function(){return function(e){if(D(e))return Object.entries(e).reduce((function(e,n){var r=l(n,2),t=r[0],o=r[1];return[].concat(i(e),[t],i(o))}),[]).filter((function(e){return A(e)||F(e)})).join(",")}(t)}),[t]),Z=e.useMemo((function(){return function(e){return D(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var n=l(e,2),r=n[0],t=n[1],o=!0;return A(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),Array.isArray(t)&&t.every(F)||(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o})).reduce((function(e,n){var r=l(n,2),t=r[0],o=r[1];return a(a({},e),{},u({},t,o))}),{})}]:e}(t)}),[t]),ee=e.useMemo((function(){return"function"==typeof B?B:$}),[B]),ne=e.useMemo((function(){return"function"==typeof z?z:$}),[z]),re=e.useRef(null),te=e.useRef(null),oe=x(e.useReducer(H,_),2),ie=oe[0],ce=oe[1],ae=ie.isFocused,ue=ie.isFileDialogActive,le=e.useRef("undefined"!=typeof window&&window.isSecureContext&&U&&"showOpenFilePicker"in window),se=function(){!le.current&&ue&&setTimeout((function(){te.current&&(te.current.files.length||(ce({type:"closeDialog"}),ne()))}),300)};e.useEffect((function(){return window.addEventListener("focus",se,!1),function(){window.removeEventListener("focus",se,!1)}}),[te,ue,ne,le]);var fe=e.useRef([]),pe=function(e){re.current&&re.current.contains(e.target)||(e.preventDefault(),fe.current=[])};e.useEffect((function(){return W&&(document.addEventListener("dragover",w,!1),document.addEventListener("drop",pe,!1)),function(){W&&(document.removeEventListener("dragover",w),document.removeEventListener("drop",pe))}}),[re,W]),e.useEffect((function(){return!o&&N&&re.current&&re.current.focus(),function(){}}),[re,N,o]);var de=e.useCallback((function(e){Q?Q(e):console.error(e)}),[Q]),ge=e.useCallback((function(e){e.preventDefault(),e.persist(),Se(e),fe.current=[].concat(C(fe.current),[e.target]),O(e)&&Promise.resolve(c(e)).then((function(n){if(!h(e)||J){var r=n.length,t=r>0&&function(e){var n=e.files,r=e.accept,t=e.minSize,o=e.maxSize,i=e.multiple,c=e.maxFiles,a=e.validator;return!(!i&&n.length>1||i&&c>=1&&n.length>c)&&n.every((function(e){var n=l(b(e,r),1)[0],i=l(m(e,t,o),1)[0],c=a?a(e):null;return n&&i&&!c}))}({files:n,accept:X,minSize:f,maxSize:s,multiple:p,maxFiles:d,validator:V});ce({isDragAccept:t,isDragReject:r>0&&!t,isDragActive:!0,type:"setDraggedFiles"}),g&&g(e)}})).catch((function(e){return de(e)}))}),[c,g,de,J,X,f,s,p,d,V]),ye=e.useCallback((function(e){e.preventDefault(),e.persist(),Se(e);var n=O(e);if(n&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(r){}return n&&E&&E(e),!1}),[E,J]),ve=e.useCallback((function(e){e.preventDefault(),e.persist(),Se(e);var n=fe.current.filter((function(e){return re.current&&re.current.contains(e)})),r=n.indexOf(e.target);-1!==r&&n.splice(r,1),fe.current=n,n.length>0||(ce({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),O(e)&&y&&y(e))}),[re,y,J]),be=e.useCallback((function(e,n){var r=[],t=[];e.forEach((function(e){var n=x(b(e,X),2),o=n[0],i=n[1],c=x(m(e,f,s),2),a=c[0],u=c[1],l=V?V(e):null;if(o&&a&&!l)r.push(e);else{var p=[i,u];l&&(p=p.concat(l)),t.push({file:e,errors:p.filter((function(e){return e}))})}})),(!p&&r.length>1||p&&d>=1&&r.length>d)&&(r.forEach((function(e){t.push({file:e,errors:[v]})})),r.splice(0)),ce({acceptedFiles:r,fileRejections:t,isDragReject:t.length>0,type:"setFiles"}),S&&S(r,t,n),t.length>0&&I&&I(t,n),r.length>0&&R&&R(r,n)}),[ce,p,X,f,s,d,S,R,I,V]),me=e.useCallback((function(e){e.preventDefault(),e.persist(),Se(e),fe.current=[],O(e)&&Promise.resolve(c(e)).then((function(n){h(e)&&!J||be(n,e)})).catch((function(e){return de(e)})),ce({type:"reset"})}),[c,be,de,J]),De=e.useCallback((function(){if(le.current){ce({type:"openDialog"}),ee();var e={multiple:p,types:Z};window.showOpenFilePicker(e).then((function(e){return c(e)})).then((function(e){be(e,null),ce({type:"closeDialog"})})).catch((function(e){var n;(n=e)instanceof DOMException&&("AbortError"===n.name||n.code===n.ABORT_ERR)?(ne(e),ce({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?de(e):(le.current=!1,te.current?(te.current.value=null,te.current.click()):de(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))}))}else te.current&&(ce({type:"openDialog"}),ee(),te.current.value=null,te.current.click())}),[ce,ee,ne,U,be,de,Z,p]),he=e.useCallback((function(e){re.current&&re.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),De()))}),[re,De]),Oe=e.useCallback((function(){ce({type:"focus"})}),[]),we=e.useCallback((function(){ce({type:"blur"})}),[]),je=e.useCallback((function(){q||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?De():setTimeout(De,0))}),[q,De]),Ae=function(e){return o?null:e},Fe=function(e){return Y?null:Ae(e)},Ee=function(e){return G?null:Ae(e)},Se=function(e){J&&e.stopPropagation()},Pe=e.useMemo((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,r=void 0===n?"ref":n,t=e.role,i=e.onKeyDown,c=e.onFocus,a=e.onBlur,u=e.onClick,l=e.onDragEnter,s=e.onDragOver,f=e.onDragLeave,p=e.onDrop,d=L(e,P);return T(T(M({onKeyDown:Fe(j(i,he)),onFocus:Fe(j(c,Oe)),onBlur:Fe(j(a,we)),onClick:Ae(j(u,je)),onDragEnter:Ee(j(l,ge)),onDragOver:Ee(j(s,ye)),onDragLeave:Ee(j(f,ve)),onDrop:Ee(j(p,me)),role:"string"==typeof t&&""!==t?t:"presentation"},r,re),o||Y?{}:{tabIndex:0}),d)}}),[re,he,Oe,we,je,ge,ye,ve,me,Y,G,o]),ke=e.useCallback((function(e){e.stopPropagation()}),[]),Ce=e.useMemo((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,r=void 0===n?"ref":n,t=e.onChange,o=e.onClick,i=L(e,k);return T(T({},M({accept:X,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ae(j(t,me)),onClick:Ae(j(o,ke)),tabIndex:-1},r,te)),i)}}),[te,t,p,me,o]);return T(T({},ie),{},{isFocused:ae&&!o,getRootProps:Pe,getInputProps:Ce,rootRef:re,inputRef:te,open:Ae(De)})}function H(e,n){switch(n.type){case"focus":return T(T({},e),{},{isFocused:!0});case"blur":return T(T({},e),{},{isFocused:!1});case"openDialog":return T(T({},_),{},{isFileDialogActive:!0});case"closeDialog":return T(T({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return T(T({},e),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return T(T({},e),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return T({},_);default:return e}}function $(){}export{U as u};
