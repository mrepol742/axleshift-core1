/**
 * Â© 2025 Melvin Jones Repol & its contributors . All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{r as e,j as s}from"./CbKKHx2O.js";import{F as a,m as r,j as t}from"./ru3Q0AV5.js";import{H as i}from"./VudaBnFI.js";import{b as o}from"./CWns3eDK.js";import{p as l}from"./2aPQtUzY.js";import{A as n}from"./schw12Bp.js";import{d as p,Q as c,R as d,aj as m,a2 as j,a3 as x,a4 as h,a5 as u,a6 as g,a7 as f,a as v}from"./BCoDuBWI.js";import{d as w}from"./D_eMUV-T.js";import"./D9QqU1Un.js";import"./z-cSZRUs.js";import"./Bnu3OxD9.js";import"./BNqS-k40.js";import"./0NUvlLuB.js";import"./tM1qHAtJ.js";import"./DylAs1sT.js";import"./yJGO6Amu.js";import"./CvkuIoXT.js";import"./B3ZIOLOa.js";import"./U6rf_yqH.js";import"./D68gzNyG.js";import"./6thM_Rat.js";import"./Eji1Pm7n.js";import"./CUBhYDUo.js";import"./Bhaa8ZPc.js";import"./K-dupnmX.js";import"./B3MjVzzP.js";import"./cwKO6bxQ.js";import"./C3hrCPXF.js";import"./Dw0KO6EP.js";import"./CzGuHLZU.js";import"./Bd5YRvRe.js";import"./UUb1f1Eq.js";import"./DqkGgfGl.js";import"./BXEMiIsG.js";import"./Bb7MnDjl.js";import"./C76xSmx-.js";import"./BPjVUy-D.js";import"./CTpwok2W.js";import"./Bzwk9agu.js";import"./BqHrj3jM.js";const b=()=>{const{addToast:a}=o(),[r,t]=e.useState(!0),[v,w]=e.useState([]),[b,S]=e.useState(1),[N,y]=e.useState(0);return e.useEffect((()=>{(async e=>{axios.post("/sec/management/activity",{page:e}).then((e=>{w(e.data.data),y(e.data.totalPages)})).catch((e=>{var s,r;const t=(null==(r=null==(s=e.response)?void 0:s.data)?void 0:r.error)||("network error"===e.message?"Server is offline or restarting please wait":e.message);a(t)})).finally((()=>t(!1)))})(b)}),[b]),r?s.jsx("div",{className:"loading-overlay",children:s.jsx(p,{color:"primary",variant:"grow"})}):s.jsxs("div",{children:[s.jsx(i,{children:s.jsx("title",{children:"Account Logs - Management | Axleshift"})}),s.jsx(c,{className:"mb-4",children:s.jsxs(d,{children:[s.jsx(m,{children:"Account Logs"}),s.jsxs(j,{stripedColumns:!0,hover:!0,responsive:!0,className:"table-even-width",children:[s.jsx(x,{children:s.jsxs(h,{children:[s.jsx(u,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"User ID"}),s.jsx(u,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"Session ID"}),s.jsx(u,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"Event"}),s.jsx(u,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"IP Address"}),s.jsx(u,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"Device"}),s.jsx(u,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"Time"})]})}),s.jsx(g,{children:v.map(((e,a)=>s.jsxs(h,{children:[s.jsx(f,{children:e.user_id}),s.jsx(f,{children:e.session_id}),s.jsx(f,{children:e.event}),s.jsx(f,{children:"::1"===e.ip_address||"::ffff:127.0.0.1"===e.ip_address?"localhost":e.ip_address}),s.jsx(f,{children:e.user_agent}),s.jsx(f,{children:l(e.time)})]},a)))})]})]})}),N>1&&s.jsx(n,{currentPage:b,setCurrentPage:S,totalPages:N,setTotalPages:y})]})},S=()=>{const{addToast:a}=o(),[r,t]=e.useState(!0),[l,p]=e.useState(""),[c,d]=e.useState(1),[m,j]=e.useState(0),[x,h]=e.useState("");return e.useEffect((()=>{(async e=>{axios.post("/sec/management/server-logs",{page:e}).then((e=>{p(e.data.data),j(e.data.totalPages)})).catch((e=>{var s,r;const t=(null==(r=null==(s=e.response)?void 0:s.data)?void 0:r.error)||("network error"===e.message?"Server is offline or restarting please wait":e.message);a(t)})).finally((()=>t(!1)))})(c)}),[c]),s.jsxs("div",{children:[s.jsx(i,{children:s.jsx("title",{children:"Server Logs - Management | Axleshift"})}),s.jsx("pre",{className:"bg-body-secondary",style:{whiteSpace:"pre-wrap",padding:"10px"},children:l}),m>1&&s.jsx(n,{currentPage:c,setCurrentPage:d,totalPages:m,setTotalPages:j})]})},N=()=>{const[i,o]=e.useState(0),[l,n]=e.useState(!1);w();const c=(e,s)=>{o(e)};return l?s.jsx("div",{className:"loading-overlay",children:s.jsx(p,{color:"primary",variant:"grow"})}):s.jsxs("div",{children:[s.jsxs(v,{className:(0===i?"text-primary":"")+" text-nowrap me-1",onClick:()=>c(0),children:[s.jsx(a,{icon:r,className:"me-1"})," Servers"]}),s.jsxs(v,{className:(1===i?"text-primary":"")+" text-nowrap me-1",onClick:()=>c(1),children:[s.jsx(a,{icon:t,className:"me-1"})," Accounts"]}),s.jsxs("div",{className:"tab-content mt-2",children:[0===i&&s.jsx(S,{}),1===i&&s.jsx(b,{})]})]})};export{N as default};
