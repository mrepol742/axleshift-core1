/**
 * Â© 2025 Melvin Jones Repol & its contributors . All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{R as t,b as e}from"./CbKKHx2O.js";import{w as n}from"./D68gzNyG.js";var r="default"in e?t:e,o=Symbol.for("react-redux-context"),i="undefined"!=typeof globalThis?globalThis:{};function u(){if(!r.createContext)return{};const t=i[o]??(i[o]=new Map);let e=t.get(r.createContext);return e||(e=r.createContext(null),t.set(r.createContext,e)),e}var c=u();function s(t=c){return function(){return r.useContext(t)}}var a=s(),l=()=>{throw new Error("uSES not initialized!")},f=(t,e)=>t===e;function b(t=c){const e=t===c?a:s(t),n=(t,n={})=>{const{equalityFn:o=f,devModeChecks:i={}}="function"==typeof n?{equalityFn:n}:n,{store:u,subscription:c,getServerState:s,stabilityCheck:a,identityFunctionCheck:b}=e();r.useRef(!0);const d=r.useCallback({[t.name]:e=>t(e)}[t.name],[t,a,i.stabilityCheck]),v=l(c.addNestedSub,u.getState,s||u.getState,d,o);return r.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var d=b();var v={notify(){},get:()=>[]};var y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),p="undefined"!=typeof navigator&&"ReactNative"===navigator.product,S=y||p?r.useLayoutEffect:r.useEffect;var h=function({store:t,context:e,children:n,serverState:o,stabilityCheck:i="once",identityFunctionCheck:u="once"}){const s=r.useMemo((()=>{const e=function(t){let e,n=v,r=0,o=!1;function i(){s.onStateChange&&s.onStateChange()}function u(){r++,e||(e=t.subscribe(i),n=function(){let t=null,e=null;return{clear(){t=null,e=null},notify(){(()=>{let e=t;for(;e;)e.callback(),e=e.next})()},get(){const e=[];let n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(n){let r=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}function c(){r--,e&&0===r&&(e(),e=void 0,n.clear(),n=v)}const s={addNestedSub:function(t){u();const e=n.subscribe(t);let r=!1;return()=>{r||(r=!0,e(),c())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:i,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,u())},tryUnsubscribe:function(){o&&(o=!1,c())},getListeners:()=>n};return s}(t);return{store:t,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:i,identityFunctionCheck:u}}),[t,o,i,u]),a=r.useMemo((()=>t.getState()),[t]);S((()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,a]);const l=e||c;return r.createElement(l.Provider,{value:s},n)};function g(t=c){const e=t===c?a:s(t),n=()=>{const{store:t}=e();return t};return Object.assign(n,{withTypes:()=>n}),n}var x=g();function C(t=c){const e=t===c?x:g(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var m,w=C();m=n.useSyncExternalStoreWithSelector,l=m;export{h as P,w as a,d as u};
