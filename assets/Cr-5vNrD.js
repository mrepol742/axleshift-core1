/**
 * Â© 2025 Melvin Jones Repol & its contributors . All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{r as e,R as s,j as r}from"./CbKKHx2O.js";import{H as n}from"./VudaBnFI.js";import t from"./JvcK6Ko9.js";import{E as a}from"./CUBhYDUo.js";import{P as i}from"./1zCZrFgN.js";import{Q as l}from"./sScGIYWv.js";import{d as o,k as c}from"./D_eMUV-T.js";import{d,b as m,c as h,X as j,a as x,Q as p,ak as g,aj as u,R as f,a2 as b,a3 as w,a4 as N,a5 as y,a6 as C,a7 as k}from"./BCoDuBWI.js";import"./D9QqU1Un.js";import"./z-cSZRUs.js";import"./Bnu3OxD9.js";import"./BNqS-k40.js";import"./0NUvlLuB.js";import"./Bhaa8ZPc.js";import"./K-dupnmX.js";import"./tM1qHAtJ.js";import"./CTpwok2W.js";import"./CvkuIoXT.js";import"./B3ZIOLOa.js";import"./Bzwk9agu.js";import"./BqHrj3jM.js";const v=()=>{o();const{id:v}=c(),[D,L]=e.useState(!0),[S,R]=e.useState(null),O=s.useRef();return e.useEffect((()=>{(async()=>{try{const[e]=await Promise.all([axios.get(`/freight/${v}`)]);R(e.data)}catch(e){console.error(e),setError(!0)}finally{L(!1)}})()}),[]),D?r.jsx("div",{className:"loading-overlay",children:r.jsx(d,{color:"primary",variant:"grow"})}):S?r.jsxs(r.Fragment,{children:[r.jsx(n,{children:r.jsxs("title",{children:[v," - Bill of Lading - Documents | Axleshift"]})}),r.jsxs("div",{className:"d-flex flex-row justify-content-between align-items-center mb-4",children:[r.jsx("span",{className:"d-block"}),r.jsx(j,{className:"mb-2 mb-sm-0",children:r.jsx(x,{className:"bg-body-secondary me-2 rounded",onClick:()=>{const e=getComputedStyle(document.body).backgroundColor;t(O.current,{scale:2,backgroundColor:e}).then((async s=>{const r=s.toDataURL("image/png"),n=new a("p","mm","a4"),t=210*s.height/s.width;n.setFillColor(e),n.rect(0,0,n.internal.pageSize.getWidth(),n.internal.pageSize.getHeight(),"F"),n.addImage(r,"PNG",0,10,210,t);const l=n.output("arraybuffer"),o=await i.load(l);o.setTitle(`Bill-Of-Lading-${v}`),o.setAuthor("Axleshift (https://core1.axleshift.com)"),o.setSubject(`Bill of Lading for shipment #${v}`),o.setProducer("Axleshift Automated PDF Generator"),o.setCreator(`Axleshift (https://core1.axleshift.com/documents/${v}/bill-of-lading)`);const c=await o.save(),d=new Blob([c],{type:"application/pdf"}),m=URL.createObjectURL(d),h=document.createElement("a");h.href=m,h.download=`Bill-Of-Lading-${v}.pdf`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(m)})).catch((e=>console.error("Error generating PDF:",e)))},children:"Download PDF"})})]}),r.jsx("div",{className:"mb-3 font-monospace",ref:O,children:r.jsxs(p,{children:[r.jsx(g,{className:"text-center",children:r.jsx(u,{className:"text-uppercase fw-bold fs-3",children:"Bill of Lading"})}),r.jsxs(f,{children:[r.jsxs(m,{children:[r.jsxs(h,{md:6,children:[r.jsxs(m,{children:[r.jsx(h,{md:3,children:r.jsx("strong",{children:"Shipment Number:"})}),r.jsxs(h,{children:[r.jsx(l,{value:v,className:"rounded-3 m-1",size:100}),r.jsx("span",{className:"d-block",children:v})]})]}),r.jsxs(m,{children:[r.jsx(h,{md:3,children:r.jsx("strong",{children:"Shipper:"})}),r.jsxs(h,{children:[S.from[0].name,r.jsx("br",{}),r.jsx("span",{children:S.from[0].email}),r.jsx("br",{}),r.jsx("span",{children:S.from[0].phone_number})]})]}),r.jsxs(m,{children:[r.jsx(h,{md:3,children:r.jsx("strong",{children:"Receiver:"})}),r.jsxs(h,{children:[S.to[0].name,r.jsx("br",{}),r.jsx("span",{children:S.to[0].email}),r.jsx("br",{}),r.jsx("span",{children:S.to[0].phone_number})]})]}),r.jsxs(m,{children:[r.jsx(h,{md:3,children:r.jsx("strong",{children:"Carrier:"})}),r.jsxs(h,{children:["Coming soon",r.jsx("br",{}),r.jsx("span",{children:"Coming soon"}),r.jsx("br",{}),r.jsx("span",{children:"Coming soon"})]})]})]}),r.jsxs(h,{md:6,children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Origin:"})," ",S.to[0].address," ",S.to[0].city]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Destination:"})," ",S.to[0].address," ",S.to[0].city]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",new Date(S.created_at).toLocaleDateString("en-US",{month:"long",day:"2-digit",year:"numeric"})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Mode of Transport:"})," Coming soon"]})]})]}),r.jsx(m,{className:"row mt-4",children:r.jsxs(h,{md:12,children:[r.jsx("h6",{children:"Item Details"}),r.jsxs(b,{stripedColumns:!0,bordered:!0,hover:!0,responsive:!0,className:"table-even-width",children:[r.jsx(w,{children:r.jsxs(N,{children:[r.jsx(y,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"#"}),r.jsx(y,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"Height"}),r.jsx(y,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"Width"}),r.jsx(y,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"Length"}),r.jsx(y,{className:"text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:"Weight"})]})}),r.jsx(C,{children:S.items.map(((e,s)=>r.jsxs(N,{children:[r.jsx(k,{children:s+1}),r.jsxs(k,{children:[e.height," cm"]}),r.jsxs(k,{children:[e.width," cm"]}),r.jsxs(k,{children:[e.length," cm"]}),r.jsxs(k,{children:[e.weight," kg"]})]},s)))})]})]})}),r.jsxs("p",{children:[r.jsx("strong",{children:"Contains Documents:"})," ",S.contains_documents?"Yes":"No",r.jsx("br",{}),r.jsx("strong",{children:"Contains Danger Goods:"})," ",S.contains_danger_goods?"Yes":"No"]})]})]})})]}):r.jsx(m,{className:"justify-content-center my-5",children:r.jsx(h,{md:6,children:r.jsxs("div",{className:"clearfix",children:[r.jsx("h1",{className:"float-start display-3 me-4 text-danger",children:"OOPS"}),r.jsx("h4",{children:"There was no shipment found."}),r.jsx("p",{children:"Double check tracking number for any mistake."})]})})})};export{v as default};
